**Система имитирует реальное интервью с участием **интервьюера** и **ментора**, которые работают как отдельные роли внутри системы.**


## Основная идея

Собеседование ведёт **интервьюер**, который:
- задаёт вопросы кандидату,
- соблюдает правила интервью,
- не оценивает ответы напрямую.

Параллельно работает **ментор**, который:
- анализирует каждый ответ кандидата,
- определяет, является ли ответ корректным,
- предлагает следующий вопрос,
- в конце формирует финальный отчёт по кандидату.

 Кандидат **не видит внутренних мыслей ментора**, они используются только для управления логикой интервью.


## Архитектура системы

### Роли в системе

**Candidate** - Пользователь, проходящий интервью
**Interviewer (LLM)** - Задаёт вопросы, поддерживает диалог
**Mentor (LLM)** - Анализирует ответы, формирует рекомендации

**В проекте используются две памяти и два агента, которые взаимодействуют последовательно.**

## Память

**Память** — context["history"].
Это память диалога для языковой модели. В неё по очереди добавляются ответы кандидата (role: user) и вопросы интервьюера (role: assistant). Эта история передаётся в каждый вызов LLM, при этом используется только последнее окно из 20 сообщений. Благодаря этому модель понимает контекст интервью и задаёт вопросы, опираясь на предыдущие шаги, а не изолированно.

## Логи — state.
Это журнал интервью, который не используется моделью для генерации ответов. В нём сохраняются сообщение кандидата, внутренний анализ (мысли ментора и объяснение выбора вопроса интервьюером), а также вопрос, который был показан кандидату. После завершения интервью сюда же записывается финальный отчёт. Весь журнал сохраняется в JSON-файл.

## Взаимодействие агентов

Агенты реализованы не как отдельные объекты, а как разные system-prompt’ы одной и той же LLM.

После каждого ответа кандидата сначала вызывается ментор. Он получает предыдущий вопрос и ответ кандидата. Ментор определяет, является ли ответ корректным (confirmed или gap), при необходимости формулирует правильный ответ и обязательно предлагает следующий вопрос.

Результат работы ментора передаётся интервьюеру через mentors_thoughts в виде скрытого system-сообщения. Кандидат этот текст не видит.

Затем вызывается интервьюер. Он видит анализ ментора, использует его для выбора следующего вопроса и задаёт этот вопрос кандидату, не раскрывая внутреннюю аналитику и логику принятия решения.
